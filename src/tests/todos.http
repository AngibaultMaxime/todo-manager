### Variables
@baseUrl = http://localhost:3000
@adminToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImVtYWlsIjoiYWRtaW5AdGVzdC5jb20iLCJyb2xlIjoiQURNSU4iLCJpYXQiOjE3NjkyMDUzMTIsImV4cCI6MTc2OTIwNjIxMn0.TXs5bUiXXCG_6nkU4MgKWZdmCcGlowhOHBlowh5u2wg
@userToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjIsImVtYWlsIjoidXNlckB0ZXN0LmNvbSIsInJvbGUiOiJVU0VSIiwiaWF0IjoxNzY5MjA1MTU1LCJleHAiOjE3NjkyMDYwNTV9.8E1zGbE0cKrxlrCGQtiLwL07WbpI4ADnKcG1h_f_3E8

### Login Admin
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
  "email": "admin@test.com",
  "password": "admin123"
}

### Login User
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
  "email": "user@test.com",
  "password": "password123"
}

### GET tous les todos (USER ou ADMIN)
GET {{baseUrl}}/api/todos
Authorization: Bearer {{adminToken}}

### GET un todo par ID (USER ou ADMIN)
GET {{baseUrl}}/api/todos/1
Authorization: Bearer {{adminToken}}

### POST créer un todo (ADMIN seulement)
POST {{baseUrl}}/api/todos
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "title": "Ma première tâche",
  "description": "Description de test",
  "priority": "HIGH",
  "status": "TODO",
  "dueDate": "2026-02-01T10:00:00Z"
}

### POST créer un todo avec USER (devrait échouer)
POST {{baseUrl}}/api/todos
Authorization: Bearer {{userToken}}
Content-Type: application/json

{
  "title": "Tâche interdite",
  "priority": "LOW"
}

### PATCH mettre à jour un todo (ADMIN seulement)
PATCH {{baseUrl}}/api/todos/1
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "title": "Tâche mise à jour",
  "priority": "HIGH"
}